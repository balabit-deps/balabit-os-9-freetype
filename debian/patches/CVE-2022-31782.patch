From 3541af5e7805a4d897b8a1b199eb5037b9f1a477 Mon Sep 17 00:00:00 2001
From: Alexei Podtelezhnikov <apodtele@gmail.com>
Date: Tue, 24 May 2022 18:24:18 +0000
Subject: [PATCH] * src/ftbench.c (main): Check the number of glyphs.

Fixes #8.
---
 src/ftbench.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/ft2demos/src/ftbench.c b/ft2demos/src/ftbench.c
index c57b528..7dfe8ea 100644
--- a/ft2demos/src/ftbench.c
+++ b/ft2demos/src/ftbench.c
@@ -1242,6 +1242,9 @@
     if ( get_face( &face ) )
       goto Exit;
 
+    if ( !face->num_glyphs )
+      goto Exit;
+
     if ( first_index >= face->num_glyphs )
       first_index = face->num_glyphs - 1;
     if ( last_index >= face->num_glyphs )
-- 
GitLab

